<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Docker on Byte Prince</title>
    <link>https://byteprince.com/tags/docker/</link>
    <description>Recent content in Docker on Byte Prince</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 09 Aug 2021 21:22:19 +0800</lastBuildDate><atom:link href="https://byteprince.com/tags/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Dockerç¬”è®°</title>
      <link>https://byteprince.com/posts/1540722a/</link>
      <pubDate>Mon, 09 Aug 2021 21:22:19 +0800</pubDate>
      
      <guid>https://byteprince.com/posts/1540722a/</guid>
      <description>ä¸€äº›å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•</description>
      <content:encoded><![CDATA[

<h2 id="dockerå®‰è£…">ğŸ‹Dockerå®‰è£…</h2>

<h3 id="ä½¿ç”¨å®˜æ–¹è„šæœ¬è‡ªåŠ¨å®‰è£…å‘½ä»¤">ğŸ”¨ä½¿ç”¨å®˜æ–¹è„šæœ¬è‡ªåŠ¨å®‰è£…å‘½ä»¤</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">curl -fsSL https://get.docker.com | bash -s docker --mirror aliyun</code></pre></div>
<h3 id="æ‰‹åŠ¨å®‰è£…">ğŸ”¨æ‰‹åŠ¨å®‰è£…</h3>

<h4 id="1-å¸è½½æ—§ç‰ˆæœ¬">1 å¸è½½æ—§ç‰ˆæœ¬</h4>
<pre><code>sudo yum remove docker \
                docker-client \
                docker-client-latest \
                docker-common \
                docker-latest \
                docker-latest-logrotate \
                docker-logrotate \
                docker-engine</code></pre>
<h4 id="2-å®‰è£…-docker-engine-community">2 å®‰è£… Docker Engine-Community</h4>

<blockquote>
<p>ä½¿ç”¨ Docker ä»“åº“è¿›è¡Œå®‰è£…</p>
</blockquote>

<p>åœ¨æ–°ä¸»æœºä¸Šé¦–æ¬¡å®‰è£… <code>Docker Engine-Community</code> ä¹‹å‰ï¼Œéœ€è¦<strong>è®¾ç½® Docker ä»“åº“</strong>ã€‚ä¹‹åï¼Œæ‚¨å¯ä»¥ä»ä»“åº“å®‰è£…å’Œæ›´æ–° Dockerã€‚</p>

<h5 id="2-1-è®¾ç½®ä»“åº“">2.1 è®¾ç½®ä»“åº“</h5>

<p><strong>2.1.1 å®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…</strong></p>

<p><code>yum-utils</code> æä¾›äº† <code>yum-config-manager</code> ï¼Œå¹¶ä¸” <code>device mapper</code> å­˜å‚¨é©±åŠ¨ç¨‹åºéœ€è¦ <code>device-mapper-persistent-data</code> å’Œ <code>lvm2</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo yum install -y yum-utils <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span> device-mapper-persistent-data <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span> lvm2</code></pre></div>
<p><strong>2.1.2 è®¾å®šä»“åº“åœ°å€ï¼ˆä½¿ç”¨å®˜æ–¹æºåœ°å€ï¼‰</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo yum-config-manager <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    --add-repo <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    https://download.docker.com/linux/centos/docker-ce.repo</code></pre></div>
<blockquote>
<p>ğŸ‘‡ä¹Ÿå¯é€‰ç”¨å›½å†…æºï¼Œé€Ÿåº¦è¾ƒå¿«</p>

<p>http:<strong>//</strong>mirrors.aliyun.com<strong>/</strong>docker-ce<strong>/</strong>linux<strong>/</strong>centos<strong>/</strong>docker-ce.repo</p>

<p>https:<strong>//</strong>mirrors.tuna.tsinghua.edu.cn<strong>/</strong>docker-ce<strong>/</strong>linux<strong>/</strong>centos<strong>/</strong>docker-ce.repo</p>
</blockquote>

<h5 id="2-2-å®‰è£…-docker-engine-community">2.2 å®‰è£… Docker Engine-Community</h5>

<blockquote>
<p>ä»¥ä¸‹å‘½ä»¤é»˜è®¤å®‰è£…æœ€é«˜ç‰ˆæœ¬çš„ Docker</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo yum install docker-ce docker-ce-cli containerd.io</code></pre></div>
<p>è‹¥æç¤ºæ¥å—GPGå¯†é’¥ï¼Œé€‰æ‹©æ˜¯ã€‚</p>

<blockquote>
<p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Docker</p>
</blockquote>

<p><strong>2.2.1 åˆ—å‡ºå¹¶æ’åºæ‚¨å­˜å‚¨åº“ä¸­å¯ç”¨çš„ç‰ˆæœ¬ã€‚æ­¤ç¤ºä¾‹æŒ‰ç‰ˆæœ¬å·ï¼ˆä»é«˜åˆ°ä½ï¼‰å¯¹ç»“æœè¿›è¡Œæ’åºã€‚</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ yum list docker-ce --showduplicates | sort -r

docker-ce.x86_64  3:18.09.1-3.el7                     docker-ce-stable
docker-ce.x86_64  3:18.09.0-3.el7                     docker-ce-stable
docker-ce.x86_64  18.06.1.ce-3.el7                    docker-ce-stable
docker-ce.x86_64  18.06.0.ce-3.el7                    docker-ce-stable</code></pre></div>
<p><strong>2.2.2 é€šè¿‡å…¶å®Œæ•´çš„è½¯ä»¶åŒ…åç§°å®‰è£…ç‰¹å®šç‰ˆæœ¬ï¼Œè¯¥è½¯ä»¶åŒ…åç§°æ˜¯è½¯ä»¶åŒ…åç§°ï¼ˆdocker-ceï¼‰åŠ ä¸Šç‰ˆæœ¬å­—ç¬¦ä¸²ï¼ˆç¬¬äºŒåˆ—ï¼‰ï¼Œä»ç¬¬ä¸€ä¸ªå†’å·ï¼ˆ:ï¼‰ä¸€ç›´åˆ°ç¬¬ä¸€ä¸ªè¿å­—ç¬¦ï¼Œå¹¶ç”¨è¿å­—ç¬¦ï¼ˆ-ï¼‰åˆ†éš”ã€‚ä¾‹å¦‚ï¼šdocker-ce-18.09.1ã€‚</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</code></pre></div>
<h2 id="dockerå¯åŠ¨">ğŸ‹Dockerå¯åŠ¨</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo systemctl start docker</code></pre></div>
<p>è¿è¡Œ <code>hello-world</code> æ˜ åƒæ¥éªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…äº† <code>Docker Engine-Community</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">docker run hello-world</code></pre></div>
<h2 id="dockerå¸è½½">ğŸ‹Dockerå¸è½½</h2>

<p>åˆ é™¤å®‰è£…åŒ…</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum remove docker-ce</code></pre></div>
<p>åˆ é™¤é•œåƒã€å®¹å™¨ã€é…ç½®æ–‡ä»¶ç­‰å†…å®¹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rm -rf /var/lib/docker</code></pre></div>
<h2 id="dockerå®¹å™¨çš„æ“ä½œ">ğŸ‹Dockerå®¹å™¨çš„æ“ä½œ</h2>

<h3 id="æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨">æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo docker ps -a </code></pre></div>
<h3 id="åœç”¨å®¹å™¨">åœç”¨å®¹å™¨</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo docker stop <span style="color:#f92672">[</span>CONTAINER ID <span style="color:#f92672">]</span> </code></pre></div>
<h3 id="åˆ é™¤å®¹å™¨">åˆ é™¤å®¹å™¨</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"> sudo docker rm <span style="color:#f92672">[</span>CONTAINER ID <span style="color:#f92672">]</span> </code></pre></div>
<h2 id="dockeré•œåƒçš„æ“ä½œ">ğŸ‹Dockeré•œåƒçš„æ“ä½œ</h2>

<h3 id="æ‹‰å–é•œåƒ">æ‹‰å–é•œåƒ</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">docker pull supermanito/helloworld</code></pre></div>
<h3 id="æŸ¥çœ‹æœ¬åœ°é•œåƒ">æŸ¥çœ‹æœ¬åœ°é•œåƒ</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo docker images</code></pre></div>
<h3 id="åˆ é™¤é•œåƒ">åˆ é™¤é•œåƒ</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo docker rmi <span style="color:#f92672">[</span>Image ID<span style="color:#f92672">]</span></code></pre></div>
<h2 id="docker-compose">ğŸ‹Docker Compose</h2>

<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
